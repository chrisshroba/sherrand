<html>

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>CS 225 Student Summer Locator</title>
    <link href="togglebutton.css" rel="stylesheet" type="text/css">
    <style type="text/css">
        /*html { height: 100% }*/
        /*body { height: 100%; margin: 0; padding: 0 }*/
        #map-canvas {
            height: 500px;
            width:  500px;
        }

    </style>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDuMSUBWuxJ_uj-p-Eict9y3QTsfVHbo-g&sensor=false"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

    <script type="text/javascript">
    var from_state=true;
    var from_lat, from_lon;
    var to_lat, to_lon;
    function initialize() {

        var mapOptions = {
            center: new google.maps.LatLng(40,-100),
            zoom: 4
        };

        var markerAdded = false;

        var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

        var latlng = new google.maps.LatLng(40, -100);


//        var lat = latlng.lat();
//        var lng = latlng.lng();
        var marker;

        var fromMarkerAdded=false;
        var toMarkerAdded=false;

        var fromMarker, toMarker;

        var latlong;


        google.maps.event.addListener(map, 'click', function(event) {
            if(from_state)
            {
                if (!fromMarkerAdded) {
                    fromMarker = new google.maps.Marker({
                        map: map,
                        icon: "http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|FE7569"

                    });
                }

                fromMarker.setPosition(event.latLng);

                latlong = event.latLng;
                from_lat = latlong.lat();
                from_lon = latlong.lng();

                fromMarkerAdded=true;
            }
            else
            {
                if (!toMarkerAdded) {
                    toMarker = new google.maps.Marker({
                        map: map,
                        icon: "http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|75FE69"

                    });
                }
                toMarker.setPosition(event.latLng);
                latlong = event.latLng;

                to_lat = latlong.lat();
                to_lon = latlong.lng();
                toMarkerAdded=true;

            }
        });

    }
    
    google.maps.event.addDomListener(window, 'load', initialize);

    function getLocationData(){
        return {
            from_lat: from_lat,
            from_lon: from_lon,
            to_lat: to_lat,
            to_lon: to_lon
        }
    }


    </script>
</head>

<body>
    <div id="map-canvas"></div>
    
<!--<div class="onoffswitch">-->
    <!--<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>-->
    <!--<label class="onoffswitch-label" for="myonoffswitch">-->
        <!--<span class="onoffswitch-inner"></span>-->
        <!--<span class="onoffswitch-switch"></span>-->
    <!--</label>-->
<!--</div>-->

</body>

</html>